
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")
local CoreGui = game:GetService("CoreGui")

local selectedItem = "Ice Shard" -- CHANGE THIS TO THE AWAKENED ITEM NAME

local function notify(msg)
    game.StarterGui:SetCore("SendNotification", {
        Title = "Dupe Script";
        Text = msg;
        Duration = 5;
    })
end

local function waitForTradeGUI()
    notify("Waiting for trade GUI...")
    repeat wait(0.5) until PlayerGui:FindFirstChild("Trade")
    notify("Trade GUI detected.")
end

local function withdrawItem()
    notify("Withdrawing item: " .. selectedItem)
    local bank = PlayerGui:FindFirstChild("Bank") or PlayerGui:FindFirstChild("BankUI")
    if not bank then
        notify("Bank GUI not found.")
        return false
    end

    for _, slot in pairs(bank:GetDescendants()) do
        if slot:IsA("ImageButton") and slot:FindFirstChild("Item") then
            local item = slot.Item
            if item:FindFirstChild("Name") and item.Name.Text == selectedItem then
                slot:Activate()
                wait(0.2)
                local withdrawButton = bank:FindFirstChild("Withdraw") or bank:FindFirstChildWhichIsA("TextButton")
                if withdrawButton then
                    withdrawButton:Activate()
                    notify("Item withdrawn from bank.")
                    return true
                end
            end
        end
    end

    notify("Item not found in bank.")
    return false
end

local function insertToTrade()
    notify("Inserting item into trade...")
    local trade = PlayerGui:FindFirstChild("Trade")
    if not trade then
        notify("Trade GUI not found.")
        return false
    end

    for _, slot in pairs(trade:GetDescendants()) do
        if slot:IsA("ImageButton") and slot:FindFirstChild("Item") then
            local item = slot.Item
            if item:FindFirstChild("Name") and item.Name.Text == selectedItem then
                slot:Activate()
                notify("Item added to trade.")
                return true
            end
        end
    end

    notify("Could not find item to insert into trade.")
    return false
end

local function storeItem()
    notify("Storing item back into bank...")
    local bank = PlayerGui:FindFirstChild("Bank") or PlayerGui:FindFirstChild("BankUI")
    if not bank then
        notify("Bank GUI not found again.")
        return false
    end

    for _, slot in pairs(bank:GetDescendants()) do
        if slot:IsA("ImageButton") and not slot:FindFirstChild("Item") then
            slot:Activate()
            wait(0.2)
            local storeButton = bank:FindFirstChild("Store") or bank:FindFirstChildWhichIsA("TextButton")
            if storeButton then
                storeButton:Activate()
                notify("Item stored back into bank.")
                return true
            end
        end
    end

    notify("No empty slot found in bank.")
    return false
end

waitForTradeGUI()
if withdrawItem() then
    wait(1)
    insertToTrade()
    wait(1)
    storeItem()
end
